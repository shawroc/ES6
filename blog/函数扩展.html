<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>函数扩展</title>
</head>
<body>
    <script>
        {
            function test(x, y='world'){
                console.log('默认值',x,y);
            };
            test('hello');
            test('hello', 'Shaw');
        }

        {
            let x='test';
            /* function test2(x,y=x) {
                //parameters kill, y=kill  
                console.log('作用域',x,y); //kill kill
            }
            test2('kill'); */

            function test2(c,y=x){
                //c kill, y=test
                console.log('作用域',c,y); // so kill test
            }
            test2('kill');
        }

        {
            //...rest参数, 把一系列参数转换成一个数组
            //...rest参数之后，不能有其他参数了，否则编译会报错
            function test3(...arg){
                for(let v of arg){
                    console.log('rest',v); //1,2,3,4,a
                }
            }
            test3(1,2,3,4,'a');
        }

        {
            //扩展运算符
            console.log(...[1,2,4]); // 输出 1 2 4，把这个数组扩展为每个数列值
        }
        
        {
            // arrow 函数名  v是参数 => 没有花括号代表，直接ruturn
            let arrow= v =>v*2;
            console.log(arrow(3));//6

            // 没有参数的话，直接()参数。
            let arrow2 = () => 5;
            console.log(arrow2());

            //一定要注意this绑定
        }

        {
            //函数的尾调用
            //适用场景，就是你在使用过程中，发现你在不断嵌套函数
            function tail(x){
                console.log('tail', x);
            }
            function fx(x) {
                return tail(x);
            }
            fx(123); //tail 123
        }

    </script>
</body>
</html>